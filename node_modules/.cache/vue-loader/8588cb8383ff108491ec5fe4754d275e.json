{"remainingRequest":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/src/components/post/pics/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/src/components/post/pics/index.vue","mtime":1581347889505},{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3BpY3MnLAogIGNvbXBvbmVudHM6ewogICAgCiAgfSwKICBwcm9wczogewogICAgbWJsb2c6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKT0+ewogICAgICAgIHJldHVybiB7fQogICAgICB9CiAgICB9CiAgfSwKICBkYXRhKCl7CiAgICBsZXQgZ3JvdXBJZCA9IHRoaXMubWJsb2cuaWQgKyBEYXRlLm5vdygpCgogICAgcmV0dXJuIHsKICAgICAgZ3JvdXBJZDogZ3JvdXBJZAogICAgfQogIH0sCiAgY29tcHV0ZWQ6ewogICAgaW1nU3R5bGUoKXsKICAgICAgcmV0dXJuIGl0ZW0gPT57CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogJ3VybCgnK2l0ZW0udXJsKycpJwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGltZ09uZVN0eWxlKCl7CiAgICAgIHJldHVybiBpdGVtID0+IHsKICAgICAgICBsZXQgaGVpZ2h0ID0gbnVsbAogICAgICAgIGxldCB3aWR0aCA9IG51bGwKCiAgICAgICAgLy8g5aaC5p6c5Zu+54mH5piv6ZW/5Zu+5YiZ57uZ5a6a5pyA5aSn55qE6ZW/5bqmCiAgICAgICAgaWYgKGl0ZW0uZ2VvLmhlaWdodCA+IGl0ZW0uZ2VvLndpZHRoKSB7CiAgICAgICAgICBoZWlnaHQgPSBNYXRoLm1pbigyMDAsIGl0ZW0uZ2VvLmhlaWdodCkKICAgICAgICAgIC8vIOagueaNruavlOS+i+iuvue9ruWuveW6pgogICAgICAgICAgd2lkdGggPSBoZWlnaHQgKiBpdGVtLmdlby53aWR0aCAvIGl0ZW0uZ2VvLmhlaWdodAogICAgICAgIH0gZWxzZSB7IC8vIOWmguaenOWbvueJh+aYr+WuveWbvuWImee7meWumuWbuuWumueahOWuveW6pgogICAgICAgICAgd2lkdGggPSBNYXRoLm1pbigyMDAsIGl0ZW0uZ2VvLndpZHRoKQogICAgICAgICAgLy8g5qC55o2u5q+U5L6L6K6+572u6auY5bqmCiAgICAgICAgICBoZWlnaHQgPSB3aWR0aCAqIGl0ZW0uZ2VvLmhlaWdodCAvIGl0ZW0uZ2VvLndpZHRoCiAgICAgICAgfQogICAgICAgIC8vIOi9rOaNouaIkHZ35Y2V5L2NCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGhlaWdodDogdGhpcy5weHRvdncoaGVpZ2h0KSwKICAgICAgICAgIHdpZHRoOiB0aGlzLnB4dG92dyh3aWR0aCkKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6ewogICAgcHh0b3Z3KHB4KXsKICAgICAgcmV0dXJuIChweCAvIDM3NSAqIDEwMCkgKyAndncnCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/post/pics","sourcesContent":["<template>\n   <div class=\"pic-content\">\n     <img :data-preview-src=\"mblog.pics[0].large.url\" :data-preview-group=\"groupId\" v-if=\"mblog.pics && mblog.pics.length == 1\" :style=\"imgOneStyle(mblog.pics[0])\" class=\"img-wrap-one\" :src=\"mblog.pics[0].url\">\n      <div v-else class=\"img-content\">\n        <div\n          class=\"img-item\"\n          :data-preview-src=\"item.large.url\" :data-preview-group=\"groupId\"\n          :style=\"imgStyle(item)\"\n          v-for=\"(item,index) in mblog.pics\"\n          :key=\"index\"\n        >\n        </div>\n      </div>\n   </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'pics',\n  components:{\n    \n  },\n  props: {\n    mblog: {\n      type: Object,\n      default: ()=>{\n        return {}\n      }\n    }\n  },\n  data(){\n    let groupId = this.mblog.id + Date.now()\n\n    return {\n      groupId: groupId\n    }\n  },\n  computed:{\n    imgStyle(){\n      return item =>{\n        return {\n          backgroundImage: 'url('+item.url+')'\n        }\n      }\n    },\n    imgOneStyle(){\n      return item => {\n        let height = null\n        let width = null\n\n        // 如果图片是长图则给定最大的长度\n        if (item.geo.height > item.geo.width) {\n          height = Math.min(200, item.geo.height)\n          // 根据比例设置宽度\n          width = height * item.geo.width / item.geo.height\n        } else { // 如果图片是宽图则给定固定的宽度\n          width = Math.min(200, item.geo.width)\n          // 根据比例设置高度\n          height = width * item.geo.height / item.geo.width\n        }\n        // 转换成vw单位\n        return {\n          height: this.pxtovw(height),\n          width: this.pxtovw(width)\n        }\n      }\n    }\n  },\n  methods:{\n    pxtovw(px){\n      return (px / 375 * 100) + 'vw'\n    }\n  }\n}\n</script>\n<style scoped>\n.img-content {\n  display: flex;\n  flex-wrap: wrap;\n  padding-left: 15px;\n}\n.img-item {\n  width: 115px;\n  height: 115px;\n  border: 2px solid #fff;\n  box-sizing: border-box;\n  background-size: cover;\n  background-position: center center;\n  background-color: #e9e9e9;\n}\n.img-wrap-one {\n  background-color: #e9e9e9;\n  margin-left: 15px;\n}\n</style>"]}]}