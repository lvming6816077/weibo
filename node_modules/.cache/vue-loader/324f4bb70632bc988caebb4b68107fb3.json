{"remainingRequest":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/src/components/post/videopart/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/src/components/post/videopart/index.vue","mtime":1581870102826},{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB2aWRlb2pzIGZyb20gJ3ZpZGVvLmpzJwppbXBvcnQgJ3ZpZGVvLmpzL2Rpc3QvdmlkZW8tanMuY3NzJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd2aWRlb3BhcnQnLAogIGNvbXBvbmVudHM6ewogICAgCiAgfSwKICBwcm9wczogewogICAgdmlkZW9EYXRhOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogKCk9PnsKICAgICAgICByZXR1cm4ge30KICAgICAgfQogICAgfSwKICAgIHZpZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogIH0sCiAgZGF0YSgpewogICAgbGV0IHBsYXlpZCA9ICdpZCcgKyB0aGlzLnZpZCArIERhdGUubm93KCkKCiAgICByZXR1cm4gewogICAgICBwbGF5ZWQ6IGZhbHNlLAogICAgICBwbGF5aWQ6IHBsYXlpZAogICAgfQogIH0sCiAgbW91bnRlZCAoKSB7CiAgICBsZXQgb3B0aW9ucyA9IHsKICAgICAgY29udHJvbHM6IHRydWUsIC8vIOiuvue9ruaYr+WQpuaYvuekuuinhumikeaOp+WItuWZqAogICAgICBwcmVsb2FkOiAnYXV0bycsIC8vIOiuvue9ruaYr+WQpue8k+WGsgogICAgICBwb3N0ZXI6IHRoaXMudmlkZW9EYXRhLnBhZ2VfcGljLnVybCwgLy8g6KeG6aKR6aKE6KeI5Zu+CiAgICAgIGZsdWlkOiB0cnVlLCAvLyDoh6rpgILlupTlpKflsI8KICAgICAgYmlnUGxheUJ1dHRvbjogZmFsc2UvLyDpmpDol4/pu5jorqTnmoTmkq3mlL7mjInpkq4KICAgIH0KCiAgICAvLyDliJ3lp4vljJZ2aWRlb2pz77yM56ys5LiA5Liq5Y+C5pWw5Li6dmlkZW/moIfnrb7nmoRJRO+8jOesrOS6jOS4quWPguaVsOaYr3ZpZGVvanPmjqXmlLbnmoTlj4LmlbDvvIznrKzkuInkuKp2aWRlb2pz5Yid5aeL5YyW5oiQ5Yqf5ZCO5omn6KGM55qE5pa55rOVCiAgICB0aGlzLnBsYXllciA9IHZpZGVvanModGhpcy5wbGF5aWQsIG9wdGlvbnMsICgpID0+IHsKICAgICAgY29uc29sZS5sb2coJ+WIneWni+WMluaIkOWKnycpCiAgICB9KQoKICAgIC8vIOW9k+W9k+WJjeaSreaUvuWZqOaSreaUvuaXtu+8jOaaguWBnOWFtuS7luaSreaUvuWZqAogICAgdGhpcy5wbGF5ZXIub24oJ3BsYXknLCgpPT57CiAgICAgIHRoaXMucGxheWVkID0gdHJ1ZQogICAgICB0aGlzLiR2aWRlb1BsYXllckxpc3QuZm9yRWFjaCgoaXRlbSk9PnsKICAgICAgICBpZiAoaXRlbS5pZF8gIT0gdGhpcy5wbGF5aWQpIHsgLy8g6YCa6L+HcGxheWlk5p2l5Yik5pat5piv5ZCm5piv5b2T5YmN55qE5pKt5pS+5Zmo5a6e5L6LCiAgICAgICAgICBpdGVtLnBhdXNlKCkvLyDmmoLlgZzmkq3mlL4KICAgICAgICB9CiAgICAgIH0pCiAgICB9KQoKICAgLy8g5a2Y5YKo5pKt5pS+5Zmo5a6e5L6LCiAgIHRoaXMuJHZpZGVvUGxheWVyTGlzdC5wdXNoKHRoaXMucGxheWVyKQogIH0sCiAgbWV0aG9kczp7CiAgICBwbGF5KCl7CiAgICAgIHRoaXMucGxheWVyLnBsYXkoKQogICAgfSwKICAgIHByZXZlbnQoZSl7CiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCkKICAgIH0KICB9LAp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/post/videopart","sourcesContent":["<template>\n  <div class=\"video-content\" @click=\"prevent($event)\">\n    <div class=\"ply-btn\" v-show=\"!played\" @click=\"play\"></div>\n    <video :id=\"playid\" class=\"video-js\">\n      <source :src=\"videoData.media_info.mp4_hd_url\" type=\"video/mp4\">\n    </video>\n  </div>\n</template>\n\n<script>\nimport videojs from 'video.js'\nimport 'video.js/dist/video-js.css'\n\nexport default {\n  name: 'videopart',\n  components:{\n    \n  },\n  props: {\n    videoData: {\n      type: Object,\n      default: ()=>{\n        return {}\n      }\n    },\n    vid: {\n      type: String,\n      default: ''\n    },\n  },\n  data(){\n    let playid = 'id' + this.vid + Date.now()\n\n    return {\n      played: false,\n      playid: playid\n    }\n  },\n  mounted () {\n    let options = {\n      controls: true, // 设置是否显示视频控制器\n      preload: 'auto', // 设置是否缓冲\n      poster: this.videoData.page_pic.url, // 视频预览图\n      fluid: true, // 自适应大小\n      bigPlayButton: false// 隐藏默认的播放按钮\n    }\n\n    // 初始化videojs，第一个参数为video标签的ID，第二个参数是videojs接收的参数，第三个videojs初始化成功后执行的方法\n    this.player = videojs(this.playid, options, () => {\n      console.log('初始化成功')\n    })\n\n    // 当当前播放器播放时，暂停其他播放器\n    this.player.on('play',()=>{\n      this.played = true\n      this.$videoPlayerList.forEach((item)=>{\n        if (item.id_ != this.playid) { // 通过playid来判断是否是当前的播放器实例\n          item.pause()// 暂停播放\n        }\n      })\n    })\n\n   // 存储播放器实例\n   this.$videoPlayerList.push(this.player)\n  },\n  methods:{\n    play(){\n      this.player.play()\n    },\n    prevent(e){\n      e.stopPropagation()\n    }\n  },\n}\n</script>\n<style scoped>\n.video-content {\n  position: relative;\n  padding-left: 10px;\n  padding-right: 10px;\n}\n.ply-btn {\n  position: absolute;\n  width: 64px;\n  height: 64px;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%,-50%);\n  background-image: url('./imgs/play.png');\n  background-position: center center;\n  background-repeat: no-repeat;\n  z-index: 99;\n\n}\n</style>"]}]}