{"remainingRequest":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/src/views/detail/commentlist/citem/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/src/views/detail/commentlist/citem/index.vue","mtime":1581757037763},{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgoKaW1wb3J0IGF2YXRhciBmcm9tICdAL2NvbXBvbmVudHMvYXZhdGFyJwoKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnY2l0ZW0nLAogIGNvbXBvbmVudHM6ewogICAgYXZhdGFyCiAgfSwKICBwcm9wczp7CiAgICBkYXRhOnsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKT0+ewogICAgICAgIHJldHVybiB7fQogICAgICB9CiAgICB9LAogICAgdHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdsaXN0JwogICAgfQogIH0sCiAgbWV0aG9kczp7CiAgICBnb01vcmVDb21tZW50KCl7CiAgICAgIC8vIOmHh+eUqHZ1ZS1yb3V0ZXLnmoRwdXNo5pa55rOV6L+b6KGM5Lyg5Y+C77yM5bCG5pWw5o2u5aGe5YWlcGFyYW1z5a+56LGh5LitCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnbW9yZWNvbW1lbnQnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgbWFpbkNvbW1lbnREYXRhOiB0aGlzLmRhdGEKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgZm9ybWF0VGV4dCAodmFsdWUpIHsKICAgICAgbGV0IHJlZyA9IC9ocmVmPSgifCcpKC4rPykoInwnKS9naSAvL+WMuemFjeWHuuWQq+aciWhyZWY9Inh4eCLnmoTlrZfnrKbkuLIKICAgICAgbGV0IGFyciA9IHZhbHVlLm1hdGNoKHJlZykKCiAgICAgIGlmIChhcnIgJiYgYXJyWzBdKSB7CiAgICAgICAgbGV0IGltZ1N0ciA9IGFyclswXS5yZXBsYWNlKC9eaHJlZj0iLywgJycpLnJlcGxhY2UoLyIkLywgJycpLy8g5bCGaHJlZuetieWPt+WPs+i+ueeahOWGheWuueaPkOWPluWHuuWtl+espuS4sgogICAgICAgIGlmICgvXC4oZ2lmfHBuZ3xqcGcpJC8udGVzdChpbWdTdHIpKSB7IC8vIOWIpOaWreatpOWtl+espuS4suaYr+WQpuaYr+S4gOS4quWbvueJh+mTvuaOpQogICAgICAgICAgLy8g5p6E6YCgTVVJ5Zu+54mH5p+l55yL5Zmo6ZyA6KaB55qE5qC85byPCiAgICAgICAgICBsZXQgc3RyID0gJ2RhdGEtcHJldmlldy1zcmM9IicgKyBpbWdTdHIgKyAnIiBkYXRhLXByZXZpZXctZ3JvdXA9IicgKyAodGhpcy5kYXRhLmlkICsgRGF0ZS5ub3coKSkgKyAnIicKICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShyZWcsIHN0cikKICAgICAgICB9CiAgICAgIH0KICAgICAgLy8g5bCG5LiA5Lqb5LiN6ZyA6KaB55qE5o2i6KGM56ym77yM5ZKM5Zu+54mH5Y2g5L2N56ym5Y675o6JCiAgICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKC88YnIgXC8+PGJyIFwvPi9nLCAnPGJyIC8+JykucmVwbGFjZSgvPHNwYW4uKj9jbGFzcz0ndXJsLWljb24nLio/Pi4qPzxcL3NwYW4+L2lnLCAnJykKICAgIH0KICB9Cgp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"index.vue","sourceRoot":"src/views/detail/commentlist/citem","sourcesContent":["<template>\n  <div class=\"item-wrap\">\n    <avatar :user=\"data.user\" class=\"left-avatar\"></avatar>\n    <div class=\"item-right\">\n      <div class=\"nickname\">{{data.user.screen_name}}</div>\n      <div class=\"content\" v-html=\"formatText(data.text)\"></div>\n      <div class=\"comment-inner\" v-if=\"type=='list' && data.more_info_users && data.more_info_users[0]\">\n        <div class=\"text\"><span class=\"inner-blue\">{{data.more_info_users[0].screen_name}}</span>等人<span class=\"inner-spec inner-blue\" @click=\"goMoreComment\">共{{data.more_info_users.length}}条回复 &gt;</span></div>\n      </div>\n      <div class=\"item-info\">\n        <div class=\"time-info\">\n          {{data.created_at | formatTime}}\n        </div>\n        <div class=\"tool-box\">\n          <div class=\"like-content\">\n            <div class=\"like-icon\"></div>\n            <div class=\"like-num\">{{data.like_count || ''}}</div>\n          </div>\n          <div class=\"comment-content\">\n            <div class=\"comment-icon\"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\n\n\nimport avatar from '@/components/avatar'\n\n\nexport default {\n  name: 'citem',\n  components:{\n    avatar\n  },\n  props:{\n    data:{\n      type: Object,\n      default: ()=>{\n        return {}\n      }\n    },\n    type: {\n      type: String,\n      default: 'list'\n    }\n  },\n  methods:{\n    goMoreComment(){\n      // 采用vue-router的push方法进行传参，将数据塞入params对象中\n      this.$router.push({\n        name: 'morecomment',\n        params: {\n          mainCommentData: this.data\n        }\n      })\n    },\n    formatText (value) {\n      let reg = /href=(\"|')(.+?)(\"|')/gi //匹配出含有href=\"xxx\"的字符串\n      let arr = value.match(reg)\n\n      if (arr && arr[0]) {\n        let imgStr = arr[0].replace(/^href=\"/, '').replace(/\"$/, '')// 将href等号右边的内容提取出字符串\n        if (/\\.(gif|png|jpg)$/.test(imgStr)) { // 判断此字符串是否是一个图片链接\n          // 构造MUI图片查看器需要的格式\n          let str = 'data-preview-src=\"' + imgStr + '\" data-preview-group=\"' + (this.data.id + Date.now()) + '\"'\n          value = value.replace(reg, str)\n        }\n      }\n      // 将一些不需要的换行符，和图片占位符去掉\n      return value.replace(/<br \\/><br \\/>/g, '<br />').replace(/<span.*?class='url-icon'.*?>.*?<\\/span>/ig, '')\n    }\n  }\n\n}\n</script>\n<style scoped>\n.item-wrap {\n  padding: 12px;\n  display: flex;\n  border-bottom: 5px solid #eee;\n}\n.left-avatar {\n  width: 32px;\n  height: 32px;\n  margin-right: 8px;\n}\n.left-avatar.vip::after {\n  bottom: 0;\n  right: -3px;\n}\n.item-right {\n  flex: 1;\n}\n.nickname {\n  font-size: 14px;\n  color: #333;\n  margin-bottom: 8px;\n}\n.content {\n  font-size: 15px;\n  color: #333;\n}\n.content /deep/ a,.content /deep/ .surl-text {\n  color: #3c6e9e;\n}\n.content /deep/ a[data-preview-src]::before {\n  content: '';\n  display: inline-block;\n  width: 15px;\n  height: 15px;\n  vertical-align: text-top;\n  margin-right: 3px;\n  background-image: url('./imgs/comment-image.png');\n  background-size: cover;\n}\n.comment-inner {\n  padding-left: 10px;\n  padding-right: 10px;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  background-color: #f7f7f7;\n  margin-top: 7px;\n}\n.text {\n  color: #333;\n  font-size: 14px;\n}\n.inner-spec {\n  margin-left: 8px;\n}\n.inner-blue {\n  color: #3c6e9e\n}\n.item-info {\n  margin-top: 8px;\n  color: #999;\n  font-size: 12px;\n  overflow: hidden;\n}\n.time-info {\n  float: left;\n}\n.tool-box {\n  display: flex;\n  float: right;\n  align-items: center;\n  margin-right: 10px;\n}\n.like-content {\n  display: flex;\n  width: 50px;\n  align-items: center;\n}\n.like-icon {\n  width: 13px;\n  height: 13px;\n  background-image: url('./imgs/like.png');\n  background-size: 100% 100%;\n  margin-right: 4px;\n}\n.comment-icon {\n  width: 13px;\n  height: 13px;\n  background-image: url('./imgs/comment.png');\n  background-size: 100% 100%;\n}\n</style>\n"]}]}