{"remainingRequest":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/src/components/post/videopart/index.vue?vue&type=style&index=0&id=516f55bc&scoped=true&lang=css&","dependencies":[{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/src/components/post/videopart/index.vue","mtime":1581870102826},{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi52aWRlby1jb250ZW50IHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgcGFkZGluZy1sZWZ0OiAxMHB4OwogIHBhZGRpbmctcmlnaHQ6IDEwcHg7Cn0KLnBseS1idG4gewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB3aWR0aDogNjRweDsKICBoZWlnaHQ6IDY0cHg7CiAgbGVmdDogNTAlOwogIHRvcDogNTAlOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsLTUwJSk7CiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcuL2ltZ3MvcGxheS5wbmcnKTsKICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXIgY2VudGVyOwogIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7CiAgei1pbmRleDogOTk7Cgp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"index.vue","sourceRoot":"src/components/post/videopart","sourcesContent":["<template>\n  <div class=\"video-content\" @click=\"prevent($event)\">\n    <div class=\"ply-btn\" v-show=\"!played\" @click=\"play\"></div>\n    <video :id=\"playid\" class=\"video-js\">\n      <source :src=\"videoData.media_info.mp4_hd_url\" type=\"video/mp4\">\n    </video>\n  </div>\n</template>\n\n<script>\nimport videojs from 'video.js'\nimport 'video.js/dist/video-js.css'\n\nexport default {\n  name: 'videopart',\n  components:{\n    \n  },\n  props: {\n    videoData: {\n      type: Object,\n      default: ()=>{\n        return {}\n      }\n    },\n    vid: {\n      type: String,\n      default: ''\n    },\n  },\n  data(){\n    let playid = 'id' + this.vid + Date.now()\n\n    return {\n      played: false,\n      playid: playid\n    }\n  },\n  mounted () {\n    let options = {\n      controls: true, // 设置是否显示视频控制器\n      preload: 'auto', // 设置是否缓冲\n      poster: this.videoData.page_pic.url, // 视频预览图\n      fluid: true, // 自适应大小\n      bigPlayButton: false// 隐藏默认的播放按钮\n    }\n\n    // 初始化videojs，第一个参数为video标签的ID，第二个参数是videojs接收的参数，第三个videojs初始化成功后执行的方法\n    this.player = videojs(this.playid, options, () => {\n      console.log('初始化成功')\n    })\n\n    // 当当前播放器播放时，暂停其他播放器\n    this.player.on('play',()=>{\n      this.played = true\n      this.$videoPlayerList.forEach((item)=>{\n        if (item.id_ != this.playid) { // 通过playid来判断是否是当前的播放器实例\n          item.pause()// 暂停播放\n        }\n      })\n    })\n\n   // 存储播放器实例\n   this.$videoPlayerList.push(this.player)\n  },\n  methods:{\n    play(){\n      this.player.play()\n    },\n    prevent(e){\n      e.stopPropagation()\n    }\n  },\n}\n</script>\n<style scoped>\n.video-content {\n  position: relative;\n  padding-left: 10px;\n  padding-right: 10px;\n}\n.ply-btn {\n  position: absolute;\n  width: 64px;\n  height: 64px;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%,-50%);\n  background-image: url('./imgs/play.png');\n  background-position: center center;\n  background-repeat: no-repeat;\n  z-index: 99;\n\n}\n</style>"]}]}