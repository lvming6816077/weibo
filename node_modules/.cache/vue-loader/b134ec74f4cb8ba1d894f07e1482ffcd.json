{"remainingRequest":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/src/components/post/pics/index.vue?vue&type=style&index=0&id=03db264a&scoped=true&lang=css&","dependencies":[{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/src/components/post/pics/index.vue","mtime":1581347889505},{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouaW1nLWNvbnRlbnQgewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC13cmFwOiB3cmFwOwogIHBhZGRpbmctbGVmdDogMTVweDsKfQouaW1nLWl0ZW0gewogIHdpZHRoOiAxMTVweDsKICBoZWlnaHQ6IDExNXB4OwogIGJvcmRlcjogMnB4IHNvbGlkICNmZmY7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOwogIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciBjZW50ZXI7CiAgYmFja2dyb3VuZC1jb2xvcjogI2U5ZTllOTsKfQouaW1nLXdyYXAtb25lIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTllOWU5OwogIG1hcmdpbi1sZWZ0OiAxNXB4Owp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/post/pics","sourcesContent":["<template>\n   <div class=\"pic-content\">\n     <img :data-preview-src=\"mblog.pics[0].large.url\" :data-preview-group=\"groupId\" v-if=\"mblog.pics && mblog.pics.length == 1\" :style=\"imgOneStyle(mblog.pics[0])\" class=\"img-wrap-one\" :src=\"mblog.pics[0].url\">\n      <div v-else class=\"img-content\">\n        <div\n          class=\"img-item\"\n          :data-preview-src=\"item.large.url\" :data-preview-group=\"groupId\"\n          :style=\"imgStyle(item)\"\n          v-for=\"(item,index) in mblog.pics\"\n          :key=\"index\"\n        >\n        </div>\n      </div>\n   </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'pics',\n  components:{\n    \n  },\n  props: {\n    mblog: {\n      type: Object,\n      default: ()=>{\n        return {}\n      }\n    }\n  },\n  data(){\n    let groupId = this.mblog.id + Date.now()\n\n    return {\n      groupId: groupId\n    }\n  },\n  computed:{\n    imgStyle(){\n      return item =>{\n        return {\n          backgroundImage: 'url('+item.url+')'\n        }\n      }\n    },\n    imgOneStyle(){\n      return item => {\n        let height = null\n        let width = null\n\n        // 如果图片是长图则给定最大的长度\n        if (item.geo.height > item.geo.width) {\n          height = Math.min(200, item.geo.height)\n          // 根据比例设置宽度\n          width = height * item.geo.width / item.geo.height\n        } else { // 如果图片是宽图则给定固定的宽度\n          width = Math.min(200, item.geo.width)\n          // 根据比例设置高度\n          height = width * item.geo.height / item.geo.width\n        }\n        // 转换成vw单位\n        return {\n          height: this.pxtovw(height),\n          width: this.pxtovw(width)\n        }\n      }\n    }\n  },\n  methods:{\n    pxtovw(px){\n      return (px / 375 * 100) + 'vw'\n    }\n  }\n}\n</script>\n<style scoped>\n.img-content {\n  display: flex;\n  flex-wrap: wrap;\n  padding-left: 15px;\n}\n.img-item {\n  width: 115px;\n  height: 115px;\n  border: 2px solid #fff;\n  box-sizing: border-box;\n  background-size: cover;\n  background-position: center center;\n  background-color: #e9e9e9;\n}\n.img-wrap-one {\n  background-color: #e9e9e9;\n  margin-left: 15px;\n}\n</style>"]}]}