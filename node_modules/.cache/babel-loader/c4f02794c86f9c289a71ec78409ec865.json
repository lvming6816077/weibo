{"remainingRequest":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/babel-loader/lib/index.js!/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/src/views/detail/commentlist/citem/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/src/views/detail/commentlist/citem/index.vue","mtime":1581757037763},{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lvming/Desktop/work/personWork/webappBook/weibosource/weibo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBhdmF0YXIgZnJvbSAnQC9jb21wb25lbnRzL2F2YXRhcic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnY2l0ZW0nLAogIGNvbXBvbmVudHM6IHsKICAgIGF2YXRhcjogYXZhdGFyCiAgfSwKICBwcm9wczogewogICAgZGF0YTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfSwKICAgIHR5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnbGlzdCcKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdvTW9yZUNvbW1lbnQ6IGZ1bmN0aW9uIGdvTW9yZUNvbW1lbnQoKSB7CiAgICAgIC8vIOmHh+eUqHZ1ZS1yb3V0ZXLnmoRwdXNo5pa55rOV6L+b6KGM5Lyg5Y+C77yM5bCG5pWw5o2u5aGe5YWlcGFyYW1z5a+56LGh5LitCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnbW9yZWNvbW1lbnQnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgbWFpbkNvbW1lbnREYXRhOiB0aGlzLmRhdGEKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGZvcm1hdFRleHQ6IGZ1bmN0aW9uIGZvcm1hdFRleHQodmFsdWUpIHsKICAgICAgdmFyIHJlZyA9IC9ocmVmPSgifCcpKC4rPykoInwnKS9naTsgLy/ljLnphY3lh7rlkKvmnIlocmVmPSJ4eHgi55qE5a2X56ym5LiyCgogICAgICB2YXIgYXJyID0gdmFsdWUubWF0Y2gocmVnKTsKCiAgICAgIGlmIChhcnIgJiYgYXJyWzBdKSB7CiAgICAgICAgdmFyIGltZ1N0ciA9IGFyclswXS5yZXBsYWNlKC9eaHJlZj0iLywgJycpLnJlcGxhY2UoLyIkLywgJycpOyAvLyDlsIZocmVm562J5Y+35Y+z6L6555qE5YaF5a655o+Q5Y+W5Ye65a2X56ym5LiyCgogICAgICAgIGlmICgvXC4oZ2lmfHBuZ3xqcGcpJC8udGVzdChpbWdTdHIpKSB7CiAgICAgICAgICAvLyDliKTmlq3mraTlrZfnrKbkuLLmmK/lkKbmmK/kuIDkuKrlm77niYfpk77mjqUKICAgICAgICAgIC8vIOaehOmAoE1VSeWbvueJh+afpeeci+WZqOmcgOimgeeahOagvOW8jwogICAgICAgICAgdmFyIHN0ciA9ICdkYXRhLXByZXZpZXctc3JjPSInICsgaW1nU3RyICsgJyIgZGF0YS1wcmV2aWV3LWdyb3VwPSInICsgKHRoaXMuZGF0YS5pZCArIERhdGUubm93KCkpICsgJyInOwogICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlZywgc3RyKTsKICAgICAgICB9CiAgICAgIH0gLy8g5bCG5LiA5Lqb5LiN6ZyA6KaB55qE5o2i6KGM56ym77yM5ZKM5Zu+54mH5Y2g5L2N56ym5Y675o6JCgoKICAgICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoLzxiciBcLz48YnIgXC8+L2csICc8YnIgLz4nKS5yZXBsYWNlKC88c3Bhbi4qP2NsYXNzPSd1cmwtaWNvbicuKj8+Lio/PFwvc3Bhbj4vaWcsICcnKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,OAAA,MAAA,MAAA,qBAAA;AAGA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA,GAFA;AAKA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA,oBAAA;AACA,eAAA,EAAA;AACA;AAJA,KADA;AAOA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AAPA,GALA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,aADA;AAEA,QAAA,MAAA,EAAA;AACA,UAAA,eAAA,EAAA,KAAA;AADA;AAFA,OAAA;AAMA,KATA;AAUA,IAAA,UAVA,sBAUA,KAVA,EAUA;AACA,UAAA,GAAA,GAAA,wBAAA,CADA,CACA;;AACA,UAAA,GAAA,GAAA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA;;AAEA,UAAA,GAAA,IAAA,GAAA,CAAA,CAAA,CAAA,EAAA;AACA,YAAA,MAAA,GAAA,GAAA,CAAA,CAAA,CAAA,CAAA,OAAA,CAAA,SAAA,EAAA,EAAA,EAAA,OAAA,CAAA,IAAA,EAAA,EAAA,CAAA,CADA,CACA;;AACA,YAAA,mBAAA,IAAA,CAAA,MAAA,CAAA,EAAA;AAAA;AACA;AACA,cAAA,GAAA,GAAA,uBAAA,MAAA,GAAA,wBAAA,IAAA,KAAA,IAAA,CAAA,EAAA,GAAA,IAAA,CAAA,GAAA,EAAA,IAAA,GAAA;AACA,UAAA,KAAA,GAAA,KAAA,CAAA,OAAA,CAAA,GAAA,EAAA,GAAA,CAAA;AACA;AACA,OAXA,CAYA;;;AACA,aAAA,KAAA,CAAA,OAAA,CAAA,iBAAA,EAAA,QAAA,EAAA,OAAA,CAAA,2CAAA,EAAA,EAAA,CAAA;AACA;AAxBA;AAjBA,CAAA","sourcesContent":["<template>\n  <div class=\"item-wrap\">\n    <avatar :user=\"data.user\" class=\"left-avatar\"></avatar>\n    <div class=\"item-right\">\n      <div class=\"nickname\">{{data.user.screen_name}}</div>\n      <div class=\"content\" v-html=\"formatText(data.text)\"></div>\n      <div class=\"comment-inner\" v-if=\"type=='list' && data.more_info_users && data.more_info_users[0]\">\n        <div class=\"text\"><span class=\"inner-blue\">{{data.more_info_users[0].screen_name}}</span>等人<span class=\"inner-spec inner-blue\" @click=\"goMoreComment\">共{{data.more_info_users.length}}条回复 &gt;</span></div>\n      </div>\n      <div class=\"item-info\">\n        <div class=\"time-info\">\n          {{data.created_at | formatTime}}\n        </div>\n        <div class=\"tool-box\">\n          <div class=\"like-content\">\n            <div class=\"like-icon\"></div>\n            <div class=\"like-num\">{{data.like_count || ''}}</div>\n          </div>\n          <div class=\"comment-content\">\n            <div class=\"comment-icon\"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\n\n\nimport avatar from '@/components/avatar'\n\n\nexport default {\n  name: 'citem',\n  components:{\n    avatar\n  },\n  props:{\n    data:{\n      type: Object,\n      default: ()=>{\n        return {}\n      }\n    },\n    type: {\n      type: String,\n      default: 'list'\n    }\n  },\n  methods:{\n    goMoreComment(){\n      // 采用vue-router的push方法进行传参，将数据塞入params对象中\n      this.$router.push({\n        name: 'morecomment',\n        params: {\n          mainCommentData: this.data\n        }\n      })\n    },\n    formatText (value) {\n      let reg = /href=(\"|')(.+?)(\"|')/gi //匹配出含有href=\"xxx\"的字符串\n      let arr = value.match(reg)\n\n      if (arr && arr[0]) {\n        let imgStr = arr[0].replace(/^href=\"/, '').replace(/\"$/, '')// 将href等号右边的内容提取出字符串\n        if (/\\.(gif|png|jpg)$/.test(imgStr)) { // 判断此字符串是否是一个图片链接\n          // 构造MUI图片查看器需要的格式\n          let str = 'data-preview-src=\"' + imgStr + '\" data-preview-group=\"' + (this.data.id + Date.now()) + '\"'\n          value = value.replace(reg, str)\n        }\n      }\n      // 将一些不需要的换行符，和图片占位符去掉\n      return value.replace(/<br \\/><br \\/>/g, '<br />').replace(/<span.*?class='url-icon'.*?>.*?<\\/span>/ig, '')\n    }\n  }\n\n}\n</script>\n<style scoped>\n.item-wrap {\n  padding: 12px;\n  display: flex;\n  border-bottom: 5px solid #eee;\n}\n.left-avatar {\n  width: 32px;\n  height: 32px;\n  margin-right: 8px;\n}\n.left-avatar.vip::after {\n  bottom: 0;\n  right: -3px;\n}\n.item-right {\n  flex: 1;\n}\n.nickname {\n  font-size: 14px;\n  color: #333;\n  margin-bottom: 8px;\n}\n.content {\n  font-size: 15px;\n  color: #333;\n}\n.content /deep/ a,.content /deep/ .surl-text {\n  color: #3c6e9e;\n}\n.content /deep/ a[data-preview-src]::before {\n  content: '';\n  display: inline-block;\n  width: 15px;\n  height: 15px;\n  vertical-align: text-top;\n  margin-right: 3px;\n  background-image: url('./imgs/comment-image.png');\n  background-size: cover;\n}\n.comment-inner {\n  padding-left: 10px;\n  padding-right: 10px;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  background-color: #f7f7f7;\n  margin-top: 7px;\n}\n.text {\n  color: #333;\n  font-size: 14px;\n}\n.inner-spec {\n  margin-left: 8px;\n}\n.inner-blue {\n  color: #3c6e9e\n}\n.item-info {\n  margin-top: 8px;\n  color: #999;\n  font-size: 12px;\n  overflow: hidden;\n}\n.time-info {\n  float: left;\n}\n.tool-box {\n  display: flex;\n  float: right;\n  align-items: center;\n  margin-right: 10px;\n}\n.like-content {\n  display: flex;\n  width: 50px;\n  align-items: center;\n}\n.like-icon {\n  width: 13px;\n  height: 13px;\n  background-image: url('./imgs/like.png');\n  background-size: 100% 100%;\n  margin-right: 4px;\n}\n.comment-icon {\n  width: 13px;\n  height: 13px;\n  background-image: url('./imgs/comment.png');\n  background-size: 100% 100%;\n}\n</style>\n"],"sourceRoot":"src/views/detail/commentlist/citem"}]}