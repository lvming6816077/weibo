(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["repost"],{"2e98":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("headerbar",{attrs:{useRightBtn:"提交",useBack:!0,title:"转发微博"},on:{rightBtnClick:t.doRepost}}),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.postContent,expression:"postContent"}],attrs:{id:"postContent",maxlength:"300",placeholder:"请输入文字..."},domProps:{value:t.postContent},on:{input:[function(e){e.target.composing||(t.postContent=e.target.value)},t.oninput]}}),s("div",{staticClass:"text-count"},[s("span",{staticClass:"left-count"},[t._v(t._s(t.textCount))]),t._v("/300")]),t.toRepostData?s("div",{staticClass:"repost-info"},[t.toRepostData.pics.length?s("div",{staticClass:"left-image",style:t.imgStyle(t.toRepostData.pics[0].url)}):t._e(),s("div",{staticClass:"right-info"},[s("div",{staticClass:"nickname"},[t._v(" @"+t._s(t.toRepostData.user.screen_name)+" ")]),s("div",{staticClass:"repost-content two-line",domProps:{innerHTML:t._s(t.formatText(t.toRepostData.text))}})])]):t._e()],1)},o=[],a=(s("ac1f"),s("5319"),s("1c80")),r={name:"repost",components:{headerbar:a["a"]},data:function(){return{postContent:"",textCount:0,imageList:[]}},computed:{imgStyle:function(){return function(t){return{backgroundImage:"url("+t+")"}}},currentUser:function(){return this.$store.state.currentUser},toRepostData:function(){return this.$store.state.toRepostData?this.$store.state.toRepostData.mblog:null}},methods:{oninput:function(){this.textCount=this.postContent.length},doRepost:function(){var t={mblog:{id:Date.now(),attitides_count:0,reposts_count:0,comments_count:0,source:"微博mobile版",text:this.postContent,pics:[],retweeted_status:this.toRepostData,user:{screen_name:this.currentUser.screen_name,profile_image_url:this.currentUser.profile_image_url,badge:{user_name_certificate:this.currentUser.verified}}}};this.$store.dispatch("addPost",t),mui.toast("转发成功"),this.$router.back()},formatText:function(t){var e=/href=("|')(.+?)("|')/gi;return t.replace(e,"").replace(/<br \/><br \/>/g,"<br />")}}},i=r,c=(s("d9eb"),s("2877")),u=Object(c["a"])(i,n,o,!1,null,"ec539da6",null);e["default"]=u.exports},d9eb:function(t,e,s){"use strict";var n=s("efa1"),o=s.n(n);o.a},efa1:function(t,e,s){}}]);
//# sourceMappingURL=repost.aa2e38a9.js.map